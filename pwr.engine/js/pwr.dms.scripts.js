var pwrDmsScripts = {	getFieldByName: function(item,name){				for(var i=0;i<item.fieldsList.length;i++){					if(item.fieldsList[i].name==name) return item.fieldsList[i];				}				return false;			},	setItemFields: function(item){				for(var i=0;i<item.fieldsList.length;i++){									var currentField = item.fieldsList[i];									if($("#"+item.domFormID).find("#"+currentField.name)){						switch(currentField.type){							case "VARCHAR":								/////ADD LABEL ELEMENT								if(currentField.label!="") $("#"+item.domFormID).find("#"+currentField.name).append('<div class="label">'+currentField.label+'</div>');								if(currentField.isNeeded) $("#"+item.domFormID).find("#"+currentField.name+" > div").append(" *");								/////ADD INPUT ELEMENT								$("#"+item.domFormID).find("#"+currentField.name).append('<input type="text" class="input text" name="'+currentField.name+'" value="'+currentField.value+'" />');								break;							case "DATE":								/////ADD LABEL ELEMENT								if(currentField.label!="") $("#"+item.domFormID).find("#"+currentField.name).append('<div class="label">'+currentField.label+'</div>');								if(currentField.isNeeded) $("#"+item.domFormID).find("#"+currentField.name+" > div").append(" *");								/////ADD INPUT ELEMENT								var dateArray = currentField.value.split("/");								$("#"+item.domFormID).find("#"+currentField.name).append('<input type="date" class="input date" name="'+currentField.name+'" value="'+dateArray[2]+"-"+dateArray[1]+"-"+dateArray[0]+'"/>');								break;							case "SELECT":								/////ADD LABEL ELEMENT								if(currentField.label!="") $("#"+item.domFormID).find("#"+currentField.name).append('<div class="label">'+currentField.label+'</div>');								if(currentField.isNeeded) $("#"+item.domFormID).find("#"+currentField.name+" > div").append(" *");								/////ADD INPUT ELEMENT								$("#"+item.domFormID).find("#"+currentField.name).append('<select class="input select" name="'+currentField.name+'" /></select>');								$("#"+item.domFormID).find("#"+currentField.name+" > select").append('<option value="0"></option>');								for(var j=0;j<currentField.selectOptionsList.length;j++){									$("#"+item.domFormID).find("#"+currentField.name+" > select").append('<option value="'+currentField.selectOptionsList[j].value+'">'+currentField.selectOptionsList[j].label+'</option>');								}								$("#"+item.domFormID).find("#"+currentField.name+" > select").val(currentField.value);								break;							case "EMAIL":								/////ADD LABEL ELEMENT								if(currentField.label!="") $("#"+item.domFormID).find("#"+currentField.name).append('<div class="label">'+currentField.label+'</div>');								if(currentField.isNeeded) $("#"+item.domFormID).find("#"+currentField.name+" > div").append(" *");								/////ADD INPUT ELEMENT								$("#"+item.domFormID).find("#"+currentField.name).append('<input type="email" class="input text" name="'+currentField.name+'" value="'+currentField.value+'" />');								break;						}					}else{						if(currentField.type!="HIDDEN"){							alert("SYS ERROR: field '"+currentField.name+"' missing.");						}					}				}			},				getItemFieldsNewValue: function(item){				var data = {};					for(var i=0;i<item.fieldsList.length;i++){									var currentField = item.fieldsList[i];										switch(currentField.type){						case "VARCHAR":							data[currentField.name] = $("#"+item.domFormID).find("#"+currentField.name+" > input").first().val();							break;						case "DATE":							var dateArray = $("#"+item.domFormID).find("#"+currentField.name+" > input").first().val().split("-");							data[currentField.name] = dateArray[2] + "/" + dateArray[1] + "/"+dateArray[0];							break;						case "SELECT":							data[currentField.name] = $("#"+item.domFormID).find("#"+currentField.name+" > select").first().val();							break;					}									}									return data;				},													checkItemFieldsValidity: function(item){				var isValid = true;					for(var i=0;i<item.fieldsList.length;i++){									var currentField = item.fieldsList[i];					var isCurrentFieldValid = true;										switch(currentField.type){						case "VARCHAR":							if(currentField.isNeeded && $("#"+item.domFormID).find("#"+currentField.name+" > input").first().val()==""){								$("#"+item.domFormID).find("#"+currentField.name+" > input").first().addClass("invalid");								isCurrentFieldValid = false;							}else{								$("#"+item.domFormID).find("#"+currentField.name+" > input").first().removeClass("invalid");							}							break;						case "DATE":							if(currentField.isNeeded && $("#"+item.domFormID).find("#"+currentField.name+" > input").first().val()==""){								$("#"+item.domFormID).find("#"+currentField.name+" > input").first().addClass("invalid");								isCurrentFieldValid = false;							}else{								$("#"+item.domFormID).find("#"+currentField.name+" > input").first().removeClass("invalid");							}							break;						case "SELECT":							if(currentField.isNeeded && $("#"+item.domFormID).find("#"+currentField.name+" > select").first().val()=="0"){								$("#"+item.domFormID).find("#"+currentField.name+" > select").first().addClass("invalid");								isCurrentFieldValid = false;							}else{								$("#"+item.domFormID).find("#"+currentField.name+" > select").first().removeClass("invalid");							}							break;					}										isValid = (isValid && isCurrentFieldValid);				}								return isValid;			},							saveItem: function(item,url){				if(this.checkItemFieldsValidity(item)){									var data = this.getItemFieldsNewValue(item);										$("#"+item.domFormID).html('<div id="loading_box">Salvataggio dati...</div>');										$.ajax({						type: "POST",						url: url,						data: data,						success: function(response){							item.ID = response;							item.reload(); 						}					});									}else{								}							},};