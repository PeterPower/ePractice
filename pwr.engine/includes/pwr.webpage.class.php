<?php 	class pwrWebpage{			private	$mainTpl;		private $mainTplName;		private $mainTplSectionName;				private $isModule = false;			public	$tpl;		public	$tplName;			public function pwrWebpage(){			global $_PREF;						///// CREATE MAIN PAGE OBJECT			$this->mainTpl = new raintpl();			$this->mainTpl->assign("_header","				<meta charset=\"utf-8\" /> 				<meta name=\"Author\" content=\"".$_PREF["SITE"]["AUTHOR"]."\" />						<script src=\"pwr.engine/js/jquery.min.js\"></script>				<script src=\"pwr.engine/js/jquery.validate.min.js\"></script>				<script src=\"pwr.engine/js/pwr.scripts.js\"></script>				<script src=\"pwr.engine/js/pwr.dms.scripts.js\"></script>			");						///// CREATE PAGE OBJECT			$this->tpl = new raintpl();		}						public function setIsModule($isModule){			$this->isModule = $isModule;		}						public function setMainTplName($mainTplName,$mainTplSectinoName){			$this->mainTplName = $mainTplName;			$this->mainTplSectionName = $mainTplSectinoName;		}		public function setPageTplName($tplName){			$this->tplName = $tplName;		}						public function setSubtitles($subtitles){			global $_PREF;						$title = $_PREF["SITE"]["TITLE"];						if(is_array($subtitles)){				for($i=0;$i<count($subtitles);$i++){					$title .= $_PREF["SITE"]["TITLESEPARATOR"].$subtitles[$i];				}			}else{				$title .= $_PREF["SITE"]["TITLESEPARATOR"].$subtitles;			}			$this->mainTpl->assign("_title",$title);		}						public function assignToMain($label,$value){			$this->mainTpl->assign($label,$value);		}		public function assignToPage($label,$value){			$this->tpl->assign($label,$value);		}						public function draw(){					if(!$this->isModule){				$this->mainTpl->assign($this->mainTplSectionName,$this->tpl->draw($this->tplName,$return_string=true));							echo $this->mainTpl->draw($this->mainTplName,$return_string=true);			}else{				echo $this->tpl->draw($this->tplName,$return_string=true);			}		}			}	?>